## æµ…æ‹·è´&æ·±æ‹·è´

```javascript
const fxArr = ["One", "Two", "Three"];
const fxArrs = fxArr.slice(0);
fxArrs[1] = "love";
console.log(fxArr); // ["One", "Two", "Three"]
console.log(fxArrs); // ["One", "love", "Three"]
```

æ•°ç»„æ‰§è¡Œäº†æ‹·è´ï¼Œå…¶ä¸­å†…å®¹ä¸ºç®€å•ç±»å‹ï¼Œæ‰€ä»¥æ‰§è¡Œçš„ä¸ºæ•°å€¼å¤åˆ¶
è™½ç„¶æ•°ç»„æœ¬èº«æ˜¯å¤æ‚ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œä½†ï¼š

- å½“æ•°ç»„ä¸­å­˜çš„æ˜¯**ç®€å•ç±»å‹**ï¼ˆåŸå§‹å€¼ï¼šå¦‚ `number`, `string`, `boolean` ç­‰ï¼‰ï¼Œä½¿ç”¨ `slice()` åˆ›å»ºå‰¯æœ¬åï¼Œ

  - æ–°æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯**å€¼çš„å¤åˆ¶**ï¼›
  - ä¿®æ”¹å‰¯æœ¬ä¸ä¼šå½±å“åŸæ•°ç»„çš„å…ƒç´ ã€‚

è¿™æ˜¯å› ä¸º **åŸå§‹ç±»å‹æ˜¯æŒ‰å€¼å­˜å‚¨å’Œä¼ é€’çš„**ã€‚

---

## ğŸ“Œ ä¸¾ä¾‹è¯´æ˜

### âœ… åŸå§‹ç±»å‹ï¼ˆç®€å•å€¼ï¼‰

```javascript
const arr1 = [1, 2, 3];
const arr2 = arr1.slice();

arr2[0] = 99;

console.log(arr1); // [1, 2, 3] âœ… åŸæ•°ç»„æœªå˜
console.log(arr2); // [99, 2, 3]
```

è§£é‡Šï¼š

- `slice()` åˆ›å»ºäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œé‡Œé¢çš„ `1`ã€`2`ã€`3` æ˜¯**åŸå§‹ç±»å‹**
- æ‰€ä»¥è¿™äº›å€¼æ˜¯**å¤åˆ¶**åˆ°æ–°æ•°ç»„çš„ï¼Œä¸æ˜¯å…±äº«å¼•ç”¨

---

### âŒ å¼•ç”¨ç±»å‹ï¼ˆå¤æ‚å€¼ï¼‰

```javascript
const arr1 = [{ a: 1 }, { b: 2 }];
const arr2 = arr1.slice();

arr2[0].a = 999;

console.log(arr1); // [{ a: 999 }, { b: 2 }] âŒ åŸæ•°ç»„è¢«å½±å“äº†
```

è§£é‡Šï¼š

- `{ a: 1 }` æ˜¯å¯¹è±¡ï¼Œæ˜¯**å¼•ç”¨ç±»å‹**
- `slice()` å¤åˆ¶çš„æ˜¯å¯¹è±¡çš„**å¼•ç”¨åœ°å€**
- æ‰€ä»¥ `arr1[0]` å’Œ `arr2[0]` æŒ‡å‘**åŒä¸€ä¸ªå¯¹è±¡**

### ğŸ“š æ·±å…¥åŸç†ï¼šå†…å­˜æ¨¡å‹

| æ•°æ®ç±»å‹ | å­˜å‚¨æ–¹å¼        | æ‹·è´è¡Œä¸º     | ç¤ºä¾‹       |
| -------- | --------------- | ------------ | ---------- |
| åŸå§‹ç±»å‹ | æ ˆå†…å­˜          | å¤åˆ¶å€¼       | `1`, `'a'` |
| å¼•ç”¨ç±»å‹ | å †å†…å­˜ + æ ˆæŒ‡é’ˆ | å¤åˆ¶å¼•ç”¨åœ°å€ | `[]`, `{}` |

å½“ä½ ç”¨ `slice()` å¤„ç†æ•°ç»„æ—¶ï¼š

- å¦‚æœå…ƒç´ æ˜¯åŸå§‹ç±»å‹ï¼Œå¤åˆ¶çš„æ˜¯å€¼ï¼ˆå€¼æ˜¯ç‹¬ç«‹çš„ï¼‰
- å¦‚æœå…ƒç´ æ˜¯å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰å¼•ç”¨ç±»å‹ï¼Œå¤åˆ¶çš„æ˜¯åœ°å€ï¼ˆå…±äº«çš„æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼‰

### âœ… æ€»ç»“ä¸€å¥è¯ï¼š

> **æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹**ï¼Œä½†å®ƒ**å†…éƒ¨çš„æ¯ä¸ªå…ƒç´ æ‹·è´è¡Œä¸ºå–å†³äºå…ƒç´ æœ¬èº«çš„ç±»å‹**â€”â€”åŸå§‹ç±»å‹æ˜¯å€¼å¤åˆ¶ï¼Œä¸ä¼šå½±å“åŸæ•°ç»„ï¼›å¼•ç”¨ç±»å‹æ˜¯åœ°å€å¤åˆ¶ï¼Œä¼šå½±å“åŸæ•°ç»„ã€‚

### æ‰‹å†™æ·±æ‹·è´å‡½æ•°

```javascript
function deepClone(obj, hash = new WeakMap()) {
  if (obj === null) return null; //å¦‚æœä¸ºnullæˆ–undefinedä¸è¿›è¡Œæ‹·è´æ“ä½œ
  if (obj instanceof Date) return new Date();
  if (obj instanceof RegExp) return new RegExp();
  if (typeof obj !== "objective") return obj;
  //æ˜¯ä¸€äº›å…¶ä»–ç±»å‹å¯¹è±¡æˆ–è€…æ™®é€šæ•°å€¼ç›´æ¥è¿”å›obj, å‡½æ•°ä¸éœ€è¦æ‹·è´ï¼Œä¹Ÿè¿”å›obj
  if (hash.get(obj)) return hash.get(obj);
  let cloneObj = obj.constructor();

  hash.set(obj, cloneObj);
  for (let k in obj) {
    if (obj.hasOwnProperty(k)) {
      cloneObj[k] = deepClone(obj[k], hash);
    }
  }
  return cloneObj;
}
```
